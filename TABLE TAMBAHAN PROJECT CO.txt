--Table: BSA_FEATURE

--DROP TABLE BSA_FEATURE;

CREATE TABLE BSA_FEATURE (
  ID_FEATURE       VARCHAR(50) NOT NULL,
  KATEGORI         VARCHAR(50) NOT NULL,
  NAMA             VARCHAR(50) NOT NULL,
  JENIS_KUNJUNGAN  INTEGER DEFAULT 0 NOT NULL,
  IS_ACTIVE        INTEGER DEFAULT 0 NOT NULL,
  IS_REQUIRED      INTEGER DEFAULT 1 NOT NULL,
  SEQ              INTEGER,
  KETERANGAN       VARCHAR(100) NOT NULL,
  "CREATE"         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  "UPDATE"         TIMESTAMP,
  ICON             VARCHAR(20) DEFAULT NULL,
  "TYPE"           VARCHAR(20) DEFAULT NULL,
  /* Keys */
  PRIMARY KEY (ID_FEATURE, KATEGORI)
);

COMMENT ON COLUMN BSA_FEATURE.ID_FEATURE
  IS 'UUID';

COMMENT ON COLUMN BSA_FEATURE.NAMA
  IS 'NAMA FITUR';

COMMENT ON COLUMN BSA_FEATURE.JENIS_KUNJUNGAN
  IS '0==JOINTCALL
1==CONTROLLCALL';

COMMENT ON COLUMN BSA_FEATURE.IS_ACTIVE
  IS 'STATUS ACTIVE or NON ACTIVE';

COMMENT ON COLUMN BSA_FEATURE.IS_REQUIRED
  IS '0==TIDAK WAJIB ISI
1==WAJIB DI ISI';

COMMENT ON COLUMN BSA_FEATURE.SEQ
  IS 'SORTING||URUTAN';

COMMENT ON COLUMN BSA_FEATURE.KETERANGAN
  IS 'KETERANGAN FEATURE';

  --Table: BSA_FEATUREDETAIL

--DROP TABLE BSA_FEATUREDETAIL;

CREATE TABLE BSA_FEATUREDETAIL (
  ID_FEATURE        VARCHAR(50) NOT NULL,
  ID_FEATUREDETAIL  VARCHAR(50) NOT NULL,
  SEQ               INTEGER NOT NULL,
  NAME              VARCHAR(50) NOT NULL,
  IS_REQUIRED       INTEGER DEFAULT 0 NOT NULL,
  IS_ACTIVE         INTEGER DEFAULT 0 NOT NULL,
  KETERANGAN        VARCHAR(100),
  ICON              VARCHAR(20) DEFAULT NULL,
  "TYPE"            VARCHAR(20) DEFAULT NULL,
  /* Keys */
  PRIMARY KEY (ID_FEATURE, ID_FEATUREDETAIL, SEQ, IS_REQUIRED)
);

COMMENT ON COLUMN BSA_FEATUREDETAIL.ID_FEATURE
  IS 'UUID';

COMMENT ON COLUMN BSA_FEATUREDETAIL.ID_FEATUREDETAIL
  IS 'UUID';

COMMENT ON COLUMN BSA_FEATUREDETAIL.IS_REQUIRED
  IS '0==DISABLE
1==ENABLE';

COMMENT ON COLUMN BSA_FEATUREDETAIL.IS_ACTIVE
  IS '0==DISABLE
1==ENABLE';

--Table: BSA_FEATURESUBDETAIL

--DROP TABLE BSA_FEATURESUBDETAIL;

CREATE TABLE BSA_FEATURESUBDETAIL (
  ID_FEATURE           VARCHAR(50) NOT NULL,
  ID_FEATUREDETAIL     VARCHAR(50) NOT NULL,
  ID_FEATURESUBDETAIL  VARCHAR(50) NOT NULL,
  SEQ                  INTEGER NOT NULL,
  NAME                 VARCHAR(50) NOT NULL,
  IS_REQUIRED          INTEGER DEFAULT 1 NOT NULL,
  IS_ACTIVE            INTEGER DEFAULT 1 NOT NULL,
  KETERANGAN           VARCHAR(100),
  ICON                 VARCHAR(20),
  "TYPE"               VARCHAR(20) DEFAULT NULL,
  /* Keys */
  PRIMARY KEY (ID_FEATURE, ID_FEATUREDETAIL, ID_FEATURESUBDETAIL, SEQ)
);

COMMENT ON COLUMN BSA_FEATURESUBDETAIL.ID_FEATUREDETAIL
  IS 'UUID';

COMMENT ON COLUMN BSA_FEATURESUBDETAIL.ID_FEATURESUBDETAIL
  IS 'UUID';

COMMENT ON COLUMN BSA_FEATURESUBDETAIL.IS_REQUIRED
  IS '0=DISABLE, 1=ENABLE (wajib diisi)';

COMMENT ON COLUMN BSA_FEATURESUBDETAIL.IS_ACTIVE
  IS '0=DISABLE, 1=ENABLE (aktif/non-aktif)';

  --Table: BSA_ROLE

--DROP TABLE BSA_ROLE;

CREATE TABLE BSA_ROLE (
  ID         VARCHAR(50) NOT NULL,
  NAME       VARCHAR(50),
  IS_ACTIVE  INTEGER DEFAULT 0 NOT NULL,
  /* Keys */
  PRIMARY KEY (ID)
);

COMMENT ON COLUMN BSA_ROLE.ID
  IS 'UUID';

COMMENT ON COLUMN BSA_ROLE.IS_ACTIVE
  IS '0==DISABLE
1==ENABLE';

--Table: BSA_ROLEDETAIL

--DROP TABLE BSA_ROLEDETAIL;

CREATE TABLE BSA_ROLEDETAIL (
  ID                VARCHAR(50) NOT NULL,
  ID_FEATURE        VARCHAR(50) NOT NULL,
  ID_FEATUREDETAIL  VARCHAR(50) NOT NULL,
  IS_ACTIVE         INTEGER DEFAULT 0 NOT NULL,
  /* Keys */
  PRIMARY KEY (ID, ID_FEATURE, ID_FEATUREDETAIL)
);

COMMENT ON COLUMN BSA_ROLEDETAIL.ID
  IS 'UUID';

COMMENT ON COLUMN BSA_ROLEDETAIL.ID_FEATURE
  IS 'UUID';

COMMENT ON COLUMN BSA_ROLEDETAIL.ID_FEATUREDETAIL
  IS 'UUID';

COMMENT ON COLUMN BSA_ROLEDETAIL.IS_ACTIVE
  IS '0==DISABLE
1==ENABLE';

--Table: SFA_VISIT

--DROP TABLE SFA_VISIT;

CREATE TABLE SFA_VISIT (
  ID_VISIT     VARCHAR(50) NOT NULL,
  TANGGAL      TIMESTAMP,
  IDSPV        VARCHAR(20) NOT NULL,
  IDPELANGGAN  VARCHAR(50) NOT NULL,
  LATITUDE     VARCHAR(20) DEFAULT 0 NOT NULL,
  LONGITUDE    VARCHAR(20) DEFAULT 0 NOT NULL,
  MULAI        TIMESTAMP NOT NULL,
  SELESAI      TIMESTAMP NOT NULL,
  CATATAN      VARCHAR(200) DEFAULT 0,
  IDSALES      INTEGER NOT NULL,
  NOCALL       VARCHAR(20) NOT NULL,
  /* Keys */
  PRIMARY KEY (ID_VISIT)
);

--Table: SFA_VISITDET

--DROP TABLE SFA_VISITDET;

CREATE TABLE SFA_VISITDET (
  ID_VISIT             VARCHAR(50) NOT NULL,
  ID_FEATURE           VARCHAR(50) NOT NULL,
  ID_FEATUREDETAIL     VARCHAR(50) NOT NULL,
  ID_FEATURESUBDETAIL  VARCHAR(50) NOT NULL,
  CHECKLIST            INTEGER DEFAULT 0 NOT NULL,
  /* Keys */
  PRIMARY KEY (ID_VISIT, ID_FEATURE, ID_FEATUREDETAIL, ID_FEATURESUBDETAIL)
);